# ๐ฆ ูุธุงู ุฅุฏุงุฑุฉ ุงููุฎุฒูู ูุงูููุงุชูุฑ - ุงูุฅุตุฏุงุฑ 2.0

## ูุง ุงูุฌุฏูุฏ ูู ุงูุฅุตุฏุงุฑ 2.0ุ

### ๐ ูุธุงู ุงูุฑุณูู ูุงูุนูููุงุช ุงูุดุงูู

ุชู ุชุทููุฑ ุงููุธุงู ููุฏุนู **ุฑุณูู ุฃูุงุฒูู ุงููุฎุชููุฉ** ููู ููุชุฌ ุนูู ุญุฏุฉ:

#### ุงููุฒุงูุง ุงูุฌุฏูุฏุฉ:

โ **ุนูููุฉ ุฃูุงุฒูู**

- ูุณุจุฉ ูุฆููุฉ ูุงุจูุฉ ููุชุฎุตูุต ููู ููุชุฌ
- ุชุญุณุจ ุชููุงุฆูุงู ูู ุณุนุฑ ุงูุจูุน
- ูุซุงู: 15% ูู ุณุนุฑ ุงูุจูุน

โ **ุฑุณูู ุงูุดุญู ูุงูุชุบููู**

- ูุจูุบ ุซุงุจุช ููู ูุญุฏุฉ
- ูุฎุชูู ุญุณุจ ุญุฌู ููุฒู ุงูููุชุฌ
- ูุซุงู: 25 ุฑ.ุณ ููุฅููุชุฑูููุงุชุ 10 ุฑ.ุณ ูููุชุจ

โ **ุฑุณูู ุงูุชุฎุฒูู**

- ุฑุณูู ุดูุฑูุฉ ูุชู ุชูุฒูุนูุง ุนูู ุงูููุชุฌุงุช
- ูุงุจูุฉ ููุชุญุฏูุซ ุญุณุจ ุณูุงุณุฉ ุฃูุงุฒูู
- ูุซุงู: 5-10 ุฑ.ุณ ุญุณุจ ุญุฌู ุงูููุชุฌ

โ **ุญุณุงุจ ุตุงูู ุงูุฑุจุญ ุงูุชููุงุฆู**

```
ุงูุฑุจุญ ุงูุฅุฌูุงูู = (ุณุนุฑ ุงูุจูุน - ุณุนุฑ ุงูุดุฑุงุก) ร ุงููููุฉ
ุฅุฌูุงูู ุงูุฑุณูู = ุนูููุฉ ุฃูุงุฒูู + ุฑุณูู ุงูุดุญู + ุฑุณูู ุงูุชุฎุฒูู
ุตุงูู ุงูุฑุจุญ = ุงูุฑุจุญ ุงูุฅุฌูุงูู - ุฅุฌูุงูู ุงูุฑุณูู
```

โ **ุชูุงุฑูุฑ ูุญุณููุฉ**

- ุนุฑุถ ุฅุฌูุงูู ุงูุฑุณูู
- ููุงุฑูุฉ ุงูุฑุจุญ ูุจู ูุจุนุฏ ุงูุฑุณูู
- ุชุญููู ูุณุจุฉ ุงูุฑุณูู ูู ุงูุฃุฑุจุงุญ

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูุทููุจ!)

```bash
# ุนุจุฑ ุณุทุฑ ุงูุฃูุงูุฑ
cd C:\xampp\htdocs\AMZ
mysql -u root -p amz_inventory < update_fees_system.sql
```

ุฃู ุนุจุฑ phpMyAdmin:

1. ุงูุชุญ `http://localhost/phpmyadmin`
2. ุงุฎุชุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช `amz_inventory`
3. ุงุฐูุจ ุฅูู "SQL"
4. ุงูุณุฎ ูุญุชูู `update_fees_system.sql` ูุงูุตูู
5. ุงุถุบุท "ุชูููุฐ"

### 2. ุงุฎุชุจุงุฑ ุงููุธุงู

ุงูุชุญ ูู ุงููุชุตูุญ:

```
http://localhost/AMZ/test_fees.php
```

### 3. ุงุณุชุฎุฏุงู ุงููุธุงู

#### ุฅุถุงูุฉ ููุชุฌ ูุน ุฑุณูู:

```json
POST /backend/api/products.php

{
  "name": "ูุงุชู ุฐูู",
  "sku": "PHONE-001",
  "purchase_price": 1000.00,
  "selling_price": 1800.00,
  "amazon_fee_percent": 15.00,
  "default_shipping_fee": 25.00,
  "default_storage_fee": 10.00,
  "stock_quantity": 50
}
```

**ุงููุชูุฌุฉ:**

- ุงูุฑุจุญ ุงูุฅุฌูุงูู: 800 ุฑ.ุณ
- ุนูููุฉ ุฃูุงุฒูู (15%): 270 ุฑ.ุณ
- ุฑุณูู ุงูุดุญู: 25 ุฑ.ุณ
- ุฑุณูู ุงูุชุฎุฒูู: 10 ุฑ.ุณ
- **ุตุงูู ุงูุฑุจุญ: 495 ุฑ.ุณ** โจ

#### ุฅูุดุงุก ูุงุชูุฑุฉ:

ุงูุฑุณูู ุชูุญุณุจ ุชููุงุฆูุงู ูู ุจูุงูุงุช ุงูููุชุฌ!

```json
POST /backend/api/invoices.php

{
  "customer_name": "ุฃุญูุฏ ูุญูุฏ",
  "items": [
    {
      "product_id": 1,
      "quantity": 2,
      "unit_price": 1800.00,
      "purchase_price": 1000.00,
      "subtotal": 3600.00
    }
  ]
}
```

---

## ๐ ูุซุงู ูุงูุนู

### ุจูุน 3 ููุงุชู ุฐููุฉ:

| ุงูุจูุฏ                 | ุงูุญุณุงุจ          | ุงููุจูุบ           |
| --------------------- | --------------- | ---------------- |
| **ุงูุฅูุฑุงุฏุงุช**         | 1800 ร 3        | **5,400 ุฑ.ุณ**    |
| ุงูุชูููุฉ               | 1000 ร 3        | 3,000 ุฑ.ุณ        |
| **ุงูุฑุจุญ ุงูุฅุฌูุงูู**    | 5400 - 3000     | **2,400 ุฑ.ุณ**    |
| โโ ุนูููุฉ ุฃูุงุฒูู (15%) | 1800 ร 0.15 ร 3 | 810 ุฑ.ุณ          |
| โโ ุฑุณูู ุงูุดุญู         | 25 ร 3          | 75 ุฑ.ุณ           |
| โโ ุฑุณูู ุงูุชุฎุฒูู       | 10 ร 3          | 30 ุฑ.ุณ           |
| **ุฅุฌูุงูู ุงูุฑุณูู**     |                 | **915 ุฑ.ุณ**      |
| **ุตุงูู ุงูุฑุจุญ**        | 2400 - 915      | **1,485 ุฑ.ุณ** โจ |

**ุงูุชุญููู:**

- ูุณุจุฉ ุงูุฑุจุญ ุงูุฅุฌูุงูู: **44.4%**
- ูุณุจุฉ ุงูุฑุณูู: **16.9%** ูู ุงูุฅูุฑุงุฏุงุช
- **ูุณุจุฉ ุตุงูู ุงูุฑุจุญ: 27.5%**

---

## ๐๏ธ ุงููููุงุช ุงููููุฉ

| ุงูููู                         | ุงููุตู                | ุงูุฃูููุฉ             |
| ----------------------------- | -------------------- | ------------------- |
| `update_fees_system.sql`      | ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช | โ๏ธ **ูุทููุจ**        |
| `test_fees.php`               | ุงุฎุชุจุงุฑ ุดุงูู ูููุธุงู   | ๐งช ููุตู ุจู          |
| `FEES_GUIDE_AR.md`            | ุฏููู ุชูุตููู 50+ ุตูุญุฉ | ๐ ูููุฑุงุกุฉ          |
| `QUICK_START_FEES.md`         | ุฏููู ุงูุจุฏุก ุงูุณุฑูุน    | โก ููุงุณุชุฎุฏุงู ุงูุณุฑูุน |
| `backend/classes/Product.php` | ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช       | ๐ง ูุญุฏูุซ            |
| `backend/classes/Invoice.php` | ุญุณุงุจ ุงูุฑุณูู          | ๐ง ูุญุฏูุซ            |
| `backend/classes/Reports.php` | ุงูุชูุงุฑูุฑ             | ๐ง ูุญุฏูุซ            |

---

## ๐ ูุตุงุฆุญ ูุฃูุถู ุงูููุงุฑุณุงุช

### 1. ุชุญุฏูุฏ ุงูุฑุณูู ุจุฏูุฉ

ุฑุณูู ุฃูุงุฒูู ุชุฎุชูู ุญุณุจ ุงููุฆุฉ:

| ุงููุฆุฉ            | ุงูุนูููุฉ | ุงูุดุญู     | ุงูุชุฎุฒูู  |
| ---------------- | ------- | --------- | -------- |
| **ุฅููุชุฑูููุงุช**   | 8-15%   | 20-30 ุฑ.ุณ | 8-12 ุฑ.ุณ |
| **ูุชุจ**          | 15%     | 8-15 ุฑ.ุณ  | 3-5 ุฑ.ุณ  |
| **ููุงุจุณ**        | 17%     | 12-20 ุฑ.ุณ | 5-8 ุฑ.ุณ  |
| **ุฃุฏูุงุช ููุฒููุฉ** | 15%     | 15-25 ุฑ.ุณ | 5-10 ุฑ.ุณ |

### 2. ูุฑุงูุจุฉ ุงูุฃุฑุจุงุญ

```sql
-- ุงุณุชุนูุงู ูููุฏ: ุฃุนูู ุงูููุชุฌุงุช ุฑุจุญุงู ุจุนุฏ ุงูุฑุณูู
SELECT
    name,
    selling_price,
    (selling_price - purchase_price) as gross_profit,
    (selling_price * amazon_fee_percent / 100 +
     default_shipping_fee + default_storage_fee) as total_fees,
    (selling_price - purchase_price -
     (selling_price * amazon_fee_percent / 100 +
      default_shipping_fee + default_storage_fee)) as net_profit
FROM products
ORDER BY net_profit DESC
LIMIT 10;
```

### 3. ุชุญุณูู ุงูุฃุณุนุงุฑ

ุญุณุงุจ ุงูุณุนุฑ ุงููุทููุจ ูููุตูู ููุงูุด ุฑุจุญ ูุญุฏุฏ:

```
ุงูุณุนุฑ ุงููุทููุจ = (ุงูุชูููุฉ + ุงูุฑุจุญ ุงููุทููุจ + ุงูุฑุณูู ุงูุซุงุจุชุฉ) / (1 - ูุณุจุฉ ุงูุนูููุฉ)
```

**ูุซุงู:**

- ุงูุชูููุฉ: 1000 ุฑ.ุณ
- ุงูุฑุจุญ ุงููุทููุจ: 500 ุฑ.ุณ
- ุฑุณูู ุซุงุจุชุฉ: 35 ุฑ.ุณ (ุดุญู + ุชุฎุฒูู)
- ุนูููุฉ ุฃูุงุฒูู: 15%

```
ุงูุณุนุฑ = (1000 + 500 + 35) / (1 - 0.15)
ุงูุณุนุฑ = 1535 / 0.85
ุงูุณุนุฑ = 1806 ุฑ.ุณ
```

**ุงูุชุญูู:**

- ุงูุฅูุฑุงุฏุงุช: 1806 ุฑ.ุณ
- ุงูุชูููุฉ: 1000 ุฑ.ุณ
- ุงูุนูููุฉ (15%): 271 ุฑ.ุณ
- ุฑุณูู ุซุงุจุชุฉ: 35 ุฑ.ุณ
- **ุตุงูู ุงูุฑุจุญ: 500 ุฑ.ุณ** โ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "Unknown column 'amazon_fee_percent'"

**ุงูุญู:** ูู ูุชู ุชุดุบูู ููู ุงูุชุญุฏูุซ

```bash
mysql -u root -p amz_inventory < update_fees_system.sql
```

### ุงููุดููุฉ: ุตุงูู ุงูุฑุจุญ ุณุงูุจ

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**

1. ุงูุฑุณูู ุฃุนูู ูู ุงูุฑุจุญ ุงูุฅุฌูุงูู
2. ุณุนุฑ ุงูุจูุน ููุฎูุถ ุฌุฏุงู
3. ูุณุจุฉ ุงูุนูููุฉ ุฎุงุทุฆุฉ

**ุงูุญููู:**

- ุฑุงุฌุน ุฃุณุนุงุฑ ุงูููุชุฌุงุช
- ููู ุงูุฑุณูู ุฃู ุฒุฏ ุงูุณุนุฑ
- ุชุญูู ูู ูุณุจุฉ ุงูุนูููุฉ (ูุฌุจ ุฃู ุชููู < 50%)

### ุงููุดููุฉ: ุงูุฑุณูู ูุง ุชุธูุฑ ูู ุงูุชูุงุฑูุฑ

**ุงูุญู:** ุชุญุฏูุซ ุงูุจูุงูุงุช ุงููุฏููุฉ

```sql
-- ุชุญุฏูุซ ุงูููุงุชูุฑ ุงููุฏููุฉ
UPDATE invoices
SET net_profit = profit - total_fees
WHERE net_profit = 0 AND total_fees > 0;
```

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงูููุงุฑุฏ ุงููุชุงุญุฉ:

1. **ุฏููู ุงูุงุณุชุฎุฏุงู ุงููุงูู**

   - ููู: `FEES_GUIDE_AR.md`
   - ูุญุชูู ุนูู: ุฃูุซูุฉ ุชูุตูููุฉุ ุญุณุงุจุงุชุ ุงุณุชุนูุงูุงุช SQL

2. **ุฏููู ุงูุจุฏุก ุงูุณุฑูุน**

   - ููู: `QUICK_START_FEES.md`
   - ููุจุฏุก ุงูููุฑู ุจุฏูู ุชูุงุตูู ูุนูุฏุฉ

3. **ููู ุงูุงุฎุชุจุงุฑ**

   - ุฑุงุจุท: `http://localhost/AMZ/test_fees.php`
   - ูุฎุชุจุฑ ุงููุธุงู ุจุดูู ูุงูู

4. **API Documentation**
   - ููู: `README_NEW.md`
   - ุฌููุน ููุงุท ุงูููุงูุฉ ูุงูุฃูุซูุฉ

---

## โ ูุงุฆูุฉ ุงูุชุญูู ูุจู ุงูุฅูุชุงุฌ

- [ ] ุชู ุชุดุบูู `update_fees_system.sql`
- [ ] ุงุฎุชุจุงุฑ ุงููุธุงู ุนุจุฑ `test_fees.php` ูุฌุญ
- [ ] ุชู ุชุญุฏูุฏ ุฑุณูู ุงูุชุฑุงุถูุฉ ููููุชุฌุงุช
- [ ] ุชู ุงุฎุชุจุงุฑ ุฅูุดุงุก ูุงุชูุฑุฉ
- [ ] ุงูุชูุงุฑูุฑ ุชุนุฑุถ ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
- [ ] ุชู ุชุญุฏูุซ ุงูููุชุฌุงุช ุงูููุฌูุฏุฉ (ุฅู ูุฌุฏุช)
- [ ] ุชู ุชุฏุฑูุจ ุงููุณุชุฎุฏููู ุนูู ุงููุธุงู ุงูุฌุฏูุฏ

---

## ๐ ุงูููุฒุงุช ุงููุงุฏูุฉ (ุงุฎุชูุงุฑู)

- [ ] ุชุตุฏูุฑ ุชูุงุฑูุฑ ุงูุฑุณูู ุฅูู Excel
- [ ] ุฑุณูู ุจูุงููุฉ ููุฑุณูู vs ุงูุฃุฑุจุงุญ
- [ ] ุชูุจููุงุช ุนูุฏ ุงูุฎูุงุถ ุตุงูู ุงูุฑุจุญ
- [ ] ุญุณุงุจ ุงูุฑุณูู ุงูุดูุฑูุฉ ุชููุงุฆูุงู
- [ ] ููุงุฑูุฉ ุงูุฃุฏุงุก ุจูู ุงููุชุฑุงุช

---

## ๐ ุงูุชุฑุฎูุต ูุงูุฏุนู

- **ุงูุฅุตุฏุงุฑ:** 2.0.0
- **ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ:** ููููุจุฑ 2024
- **ุงูุญุงูุฉ:** ๐ข ุฌุงูุฒ ููุฅูุชุงุฌ
- **ุงูุชูุงูู:** PHP 7.4+, MySQL 5.7+

---

## ๐ ุดูุฑุงู ูุงุณุชุฎุฏุงูู ุงููุธุงู!

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ุงูุชุฑุงุญุงุชุ ูุง ุชุชุฑุฏุฏ ูู ุงูุชูุงุตู.

**ุงุณุชูุชุน ุจุฅุฏุงุฑุฉ ุฃุฑุจุงุญู ุจุฏูุฉ ุงุญุชุฑุงููุฉ!** ๐ฐโจ
